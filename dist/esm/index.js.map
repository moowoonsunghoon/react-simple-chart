{"version":3,"sources":["../../src/index.tsx"],"names":["React","useState","ReactSimpleChart","x","yRange","datas","valueVisible","setValueVisible","maxValues","data","value","length","Error","Math","max","maxValue","toString","maxValueDigits","i","maxY","parseInt","ceil","y","push","display","flexWrap","marginBottom","map","marginRight","width","height","backgroundColor","color","label","minHeight","flex","flexDirection","paddingTop","position","top","v","borderRight","index","justifyContent","alignItems","borderTop","left","transform","background","textAlign"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n\nconst ReactSimpleChart: React.FC<{\n  x: any[];\n  yRange?: number;\n  datas: { label: string; value: number[]; color: string }[];\n}> = ({ x, yRange = 10, datas }) => {\n  const [valueVisible, setValueVisible] = useState<number | null>(null);\n\n  let maxValues = 0;\n  for (const data of datas) {\n    if (data.value.length !== x.length)\n      throw new Error(\"x length and data value length must be the same.\");\n    maxValues += Math.max(...data.value);\n  }\n  const maxValue = maxValues.toString();\n  let maxValueDigits = \"1\";\n  for (let i = 0; i < maxValue.length - 1; i++) {\n    maxValueDigits += \"0\";\n  }\n\n  let maxY = parseInt(maxValue) / parseInt(maxValueDigits);\n\n  if (maxY % 1 === 0) maxY = (maxY + 1) * parseInt(maxValueDigits);\n  else maxY = Math.ceil(maxY) * parseInt(maxValueDigits);\n\n  const y: number[] = [];\n  for (let i = 1; i <= yRange; i++) {\n    y.push((maxY / yRange) * i);\n  }\n\n  return (\n    <>\n      <div style={{ display: \"flex\", flexWrap: \"wrap\", marginBottom: 20 }}>\n        {datas.map((data) => (\n          <div style={{ display: \"flex\", marginRight: 10 }}>\n            <div\n              style={{\n                width: 20,\n                height: 20,\n                backgroundColor: data.color,\n                marginRight: 10,\n              }}\n            />\n            <span>{data.label}</span>\n          </div>\n        ))}\n      </div>\n      <div style={{ minHeight: \"100vh\", display: \"flex\", flex: 1 }}>\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column-reverse\",\n            flex: 0,\n          }}\n        >\n          <span\n            style={{\n              width: \"100%\",\n              paddingTop: 10,\n              position: \"relative\",\n              top: -7,\n            }}\n          >\n            0\n          </span>\n          {y.map((v, i) => (\n            <span\n              key={i}\n              style={{\n                display: \"flex\",\n                height: `${100 / y.length}%`,\n                borderRight: \"1px solid #000\",\n                width: \"100%\",\n                marginRight: 10,\n              }}\n            >\n              <span style={{ position: \"relative\", top: -8 }}>{v}</span>\n            </span>\n          ))}\n        </div>\n        {x.map((v, index) => (\n          <div\n            key={index}\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"flex-end\",\n              alignItems: \"center\",\n              width: `${100 / x.length}%`,\n            }}\n          >\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"column-reverse\",\n                justifyContent: \"flex-start\",\n                width: \"100%\",\n                flex: 1,\n                position: \"relative\",\n              }}\n              onMouseOver={() => setValueVisible(index)}\n              onMouseLeave={() => setValueVisible(null)}\n            >\n              {y.map((v, i) => (\n                <div\n                  key={i}\n                  style={{\n                    display: \"flex\",\n                    alignItems: \"flex-end\",\n                    height: `${100 / y.length}%`,\n                    borderTop: \"1px solid #ababab\",\n                  }}\n                />\n              ))}\n              <div\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"column-reverse\",\n                  position: \"absolute\",\n                  height: \"100%\",\n                  width: \"50%\",\n                  left: \"50%\",\n                  transform: \"translateX(-50%)\",\n                }}\n              >\n                {datas.map((data) => (\n                  <div\n                    style={{\n                      display: \"flex\",\n                      justifyContent: \"center\",\n                      alignItems: \"center\",\n                      background: data.color,\n                      height: `${(data.value[index] / maxY) * 100}%`,\n                    }}\n                  >\n                    {valueVisible === index && (\n                      <div\n                        style={{\n                          color: \"#fff\",\n                        }}\n                      >\n                        {data.value[index]}\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n            <div\n              style={{\n                borderTop: \"1px solid #000\",\n                width: \"100%\",\n                textAlign: \"center\",\n                paddingTop: 10,\n              }}\n            >\n              {v}\n            </div>\n          </div>\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default ReactSimpleChart;\n"],"file":"index.js"}